{"ast":null,"code":"import _slicedToArray from\"/Users/jee/Desktop/j_project/emotiondiary/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useContext,useEffect}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import{DiaryStateContext}from\"../App\";import DiaryEditor from\"../components/DiaryEditor\";import{jsx as _jsx}from\"react/jsx-runtime\";var Edit=function Edit(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),originData=_useState2[0],setOriginData=_useState2[1];var navigate=useNavigate();var _useParams=useParams(),id=_useParams.id;var diaryList=useContext(DiaryStateContext);useEffect(function(){var titleElement=document.getElementsByTagName(\"title\")[0];titleElement.innerHTML=\"Emotion Diary - Edit Diary \".concat(id);},[]);useEffect(function(){if(diaryList.length>=1){var targetDiary=diaryList.find(function(it){return parseInt(it.id)===parseInt(id);});//it.id is from useParams(id)\nif(targetDiary){setOriginData(targetDiary);}else{//undefined or No-data id\nalert(\"Invalid path\");navigate('/',{replace:true});//Prevent going back\n}}},[diaryList,id]);//Bring DiaryEditor, if it has originData\nreturn/*#__PURE__*/_jsx(\"div\",{children:originData&&/*#__PURE__*/_jsx(DiaryEditor,{isEdit:true,originData:originData})});};export default Edit;","map":{"version":3,"names":["useState","useContext","useEffect","useNavigate","useParams","DiaryStateContext","DiaryEditor","Edit","originData","setOriginData","navigate","id","diaryList","titleElement","document","getElementsByTagName","innerHTML","length","targetDiary","find","it","parseInt","alert","replace"],"sources":["/Users/jee/Desktop/j_project/emotiondiary/src/pages/Edit.js"],"sourcesContent":["import { useState, useContext, useEffect } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { DiaryStateContext } from \"../App\";\nimport DiaryEditor from \"../components/DiaryEditor\";\n\nconst Edit = () => {\n    const [originData, setOriginData] = useState();\n    const navigate = useNavigate();\n    const {id} = useParams(); \n    const diaryList = useContext(DiaryStateContext);\n\n    useEffect(() => {\n        const titleElement = document.getElementsByTagName(\"title\")[0];\n        titleElement.innerHTML = `Emotion Diary - Edit Diary ${id}`;\n      }, []);\n    \n    useEffect(()=>{\n        if(diaryList.length >= 1){\n            const targetDiary = diaryList.find(\n                (it) => parseInt(it.id) === parseInt(id)\n            ); //it.id is from useParams(id)\n            if(targetDiary){\n                setOriginData(targetDiary);\n            }else{ //undefined or No-data id\n                alert(\"Invalid path\");\n                navigate('/', {replace:true}); //Prevent going back\n            }\n        }\n    },[diaryList, id]); \n\n    //Bring DiaryEditor, if it has originData\n    return(\n        <div>\n            {originData && <DiaryEditor isEdit={true} originData={originData}/>}\n        </div>\n    );\n};\nexport default Edit;"],"mappings":"+HAAA,OAASA,QAAQ,CAAEC,UAAU,CAAEC,SAAS,KAAQ,OAAO,CACvD,OAASC,WAAW,CAAEC,SAAS,KAAQ,kBAAkB,CACzD,OAASC,iBAAiB,KAAQ,QAAQ,CAC1C,MAAOC,YAAW,KAAM,2BAA2B,CAAC,2CAEpD,GAAMC,KAAI,CAAG,QAAPA,KAAI,EAAS,CACf,cAAoCP,QAAQ,EAAE,wCAAvCQ,UAAU,eAAEC,aAAa,eAChC,GAAMC,SAAQ,CAAGP,WAAW,EAAE,CAC9B,eAAaC,SAAS,EAAE,CAAjBO,EAAE,YAAFA,EAAE,CACT,GAAMC,UAAS,CAAGX,UAAU,CAACI,iBAAiB,CAAC,CAE/CH,SAAS,CAAC,UAAM,CACZ,GAAMW,aAAY,CAAGC,QAAQ,CAACC,oBAAoB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAC9DF,YAAY,CAACG,SAAS,sCAAiCL,EAAE,CAAE,CAC7D,CAAC,CAAE,EAAE,CAAC,CAERT,SAAS,CAAC,UAAI,CACV,GAAGU,SAAS,CAACK,MAAM,EAAI,CAAC,CAAC,CACrB,GAAMC,YAAW,CAAGN,SAAS,CAACO,IAAI,CAC9B,SAACC,EAAE,QAAKC,SAAQ,CAACD,EAAE,CAACT,EAAE,CAAC,GAAKU,QAAQ,CAACV,EAAE,CAAC,GAC3C,CAAE;AACH,GAAGO,WAAW,CAAC,CACXT,aAAa,CAACS,WAAW,CAAC,CAC9B,CAAC,IAAI,CAAE;AACHI,KAAK,CAAC,cAAc,CAAC,CACrBZ,QAAQ,CAAC,GAAG,CAAE,CAACa,OAAO,CAAC,IAAI,CAAC,CAAC,CAAE;AACnC,CACJ,CACJ,CAAC,CAAC,CAACX,SAAS,CAAED,EAAE,CAAC,CAAC,CAElB;AACA,mBACI,qBACKH,UAAU,eAAI,KAAC,WAAW,EAAC,MAAM,CAAE,IAAK,CAAC,UAAU,CAAEA,UAAW,EAAE,EACjE,CAEd,CAAC,CACD,cAAeD,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}